#!/usr/bin/env bash

set -ex

dotfiles_dir="$(dirname "$0")/.."

# prevent stow from folding directories,
# which it shouldn't own
mkdir -p \
  "$HOME/.local/share/applications" \
  "$HOME/.config" \
  "$HOME/.config/git" \
  "$HOME/.config/fish" \
  "$HOME/.config/mise" \
  "$HOME/.config/alacritty/themes" \
  "$HOME/.config/jj/conf.d" \
  "$HOME/.config/zed"

stow --dir "$dotfiles_dir" --target "$HOME" --adopt \
  codestyle \
  git \
  zsh \
  fish \
  alacritty \
  aider \
  mise \
  starship \
  jujutsu \
  zed
